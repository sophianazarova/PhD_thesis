fungi<-read.table(file="~/Dropbox/Reading_Statistics/fungi.csv", head=T)
str(fungi)
rep(1,5,5)
rep(sep(1,5),5)
rep(seq(1,5),5)
order(rep(seq(1,5),5))
fungi<-read.table(file="~/Dropbox/Reading_Statistics/fungi.csv", head=T)
str(fungi)
fungi<-read.table(file="~/Dropbox/Reading_Statistics/fungi.csv", head=T)
str(fungi)
attach(fingi)
attach(fungi)
fungi<-read.table(file="~/Dropbox/Reading_Statistics/fungi.csv", head=T)
str(fungi)
attach(fungi)
model<-aov(count~loc)
summary(model)
TukeyHSD(model)
fungi$loc<-factor(fungi$loc)
attach(fungi)
model<-aov(count~loc)
TukeyHSD(model)
plot(TukeyHSD(model))
pairwise.t.test(x=count, g=loc)
install.packages("multcomp")
library("multcomp")
help(multcomp)
library(help="multcomp")
example("multcomp")
example(help = "multcomp")
plot(TukeyHSD(model))
library(help="multcomp")
setwd("~/Dropbox/PhD_thesis/White_Sea/Estuatiy_Luvenga")
ishodnik<-read.table(file="length.csv", sep=";", dec=",", head=T)
attach(ishodnik)
year<-factor(year)
Length.int<-cut(Length.mm, breaks=seq(0,20,1))
(size.str.table<-table(Length.int,year, tidal_zone))
(size.str.table<-table(Length.int,year,sample))
samples.squares<-read.table(file="squares.csv", sep=";", dec=",", head=T)
samples.names<-read.table(file="sample.csv", sep=";", dec=",", head=T)
margin.table(size.str.table, 1)
margin.table(size.str.table, 2)
apply(size.str.table,c(1,2),mean)
mean.size<-apply(size.str.table,c(1,2),mean)
mean.size.str<-apply(size.str.table,c(1,2),mean)
sd.size.str<-apply(size.str.table,c(1,2),sd)
(mean.size.str.df<-as.data.frame(size.str.table))
size.str.df<-as.data.frame(size.str.table)
str(size.str.df)
str(samples.names)
samples.names$year==1
samples.names$year=1
samples.names<-read.table(file="sample.csv", sep=";", dec=",", head=T)
samples.names$year[1]
samples.names$year[2]
size.str.df$year==label(size.str.df$year)[1]
size.str.df$year==labels(size.str.df$year)[1]
size.str.df$year==level(size.str.df$year)[1]
size.str.df$year==levels(size.str.df$year)[1]
levels(size.str.df$year)
levels(size.str.df$year)[1]
size.str.df$year=="1992"
labelss(size.str.df$year)[1]
labels(size.str.df$year)[1]
labels(size.str.df$year)[2]
labels(size.str.df$year
)
levels(samples.names$sample)
levels(samples.names$sample)[size.str.df$year==levels(size.str.df$year)[1]
]
levels(samples.names$sample)[samples.names$year==levels(size.str.df$year)[1]]
levels(samples.names$sample)[samples.names$year==levels(size.str.df$year)[2]]
levels(samples.names$sample)
samples.names$sample[samples.names$year==levels(size.str.df$year)[2]]
size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]<-NA
size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]<-NA
size.str.df$sample[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]<-NA
size.str.df$sample[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]
]
size.str.df<-as.data.frame(size.str.table)
size.str.df$sample[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]
size.str.df$Freq[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]<-NA
size.str.df$Freq[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]
]
size.str.df<-as.data.frame(size.str.table)
xxx<-c(1,4,2,6,4,4,4,1,3)
xxx[xxx==4]<-NA
xxx
size.str.df$Freq[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]
[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]
size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]
size.str.df$Freq[size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1] & size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]
]
size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]
length(size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]])
length(size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]])
size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]
length(size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]])
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1] & size.str.df$sample[size.str.df$year==levels(size.str.df$year)[1]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]<-NA
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]]
length(levels(size.str.df$year))
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample[size.str.df$year==levels(size.str.df$year)[i]]!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]]<-NA
}
size.str.df
size.str.dfhead())
head(size.str.df)
size.str.df[size.str.df$year==1993]
size.str.df$Freq[size.str.df$year==1993]
size.str.df$Freq[size.str.df$year==1993]&size.str.df$sample[size.str.df$year==1993]
size.str.df$sample[size.str.df$year==1993]
write.table(size.str.df, file="size_str_df.csv")
size.str.df<-as.data.frame(size.str.table)
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
write.table(size.str.df, file="size_str_df.csv")
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.df$year==levels(size.str.df$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.df$year)[i]]
}
write.table(size.str.sqmeter, file="size_str_sqmeter.csv")
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.sqmeter<-size.str.df
str(size.str.sqmeter)
size.str.sqmeter$Freq*10
samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[1]]
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
str(size.str.sqmeter)
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter<-size.str.df
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$Freq!=is.na $ size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$Freq!=is.na & size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$Freq!=NA & size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
for (i in 1:length(levels(size.str.df$year)))
{
subset(size.str.df, subset=size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample==samples.names$sample[samples.names$year==levels(size.str.df$year)[i]])
}
for (i in 1:length(levels(size.str.df$year)))
{
xxx<-subset(size.str.df, subset=size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample==samples.names$sample[samples.names$year==levels(size.str.df$year)[i]])
}
xxx
# как таблица данных
size.str.df<-as.data.frame(size.str.table)
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
subset(size.str.df, size.str.df$Freq==NA)
size.subset<-data.frame()
size.subset
for (i in 1:length(levels(size.str.df$year)))
{
size.subset<-data.frame()
xxx<-subset(size.str.df, subset=size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample==samples.names$sample[samples.names$year==levels(size.str.df$year)[i]])
size.subset<-size.subset,xxx
}
for (i in 1:length(levels(size.str.df$year)))
{
size.subset<-data.frame()
xxx<-subset(size.str.df, subset=size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample==samples.names$sample[samples.names$year==levels(size.str.df$year)[i]])
size.subset<-c(size.subset,xxx)
}
size.subset
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
subset(size.str.df, size.str.df$Freq=="NA")
subset(size.str.df, size.str.df$Freq!="NA")
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
size.str.df<-subset(size.str.df, size.str.df$Freq!="NA")
size.str.sqmeter<-size.str.df
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.df
size.str.sqmeter<-size.str.df
str(size.str.sqmeter)
[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[1]
]
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq<-size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]*samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]] * samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
length(levels(size.str.sqmeter$year))
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]] * samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[2]]
size.str.sqmeter<-size.str.df
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[2]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]]
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[1]] * samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[1]]
samples.squares
for (i in 1:length(levels(size.str.sqmeter$year)))
{
size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]]<-size.str.sqmeter$Freq[size.str.sqmeter$year==levels(size.str.sqmeter$year)[i]] * samples.squares$square[samples.squares$year==levels(size.str.sqmeter$year)[i]]
}
size.str.df
size.str.sqmeter
tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int))
tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=mean)
mean.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=mean)
sd.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=sd)
is.table(sd.sizestr.sqmeter)
is.data.frame(sd.sizestr.sqmeter)
is.matrix(sd.sizestr.sqmeter)
sd.sizestr.sqmeter/10
sd.sizestr.sqmeter
sd
tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=sd)
(mean.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=mean))
(sd.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=var))
(sd.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=sum))
(sd.sizestr.sqmeter<-tapply(size.str.sqmeter$Freq,INDEX=list(size.str.sqmeter$year, size.str.sqmeter$Length.int),FUN=sum))
subset(size.str.sqmeter,subset=size.str.sqmeter$year=="1992")
subset(size.str.sqmeter,subset=size.str.sqmeter$year=="1998")
subset(size.str.df,subset=size.str.df$year=="1992")
subset(size.str.df,subset=size.str.df$year=="1998")
(size.str.table<-table(Length.int,year,sample))
size.str.df<-as.data.frame(size.str.table) # как таблица данных
subset(size.str.df,subset=size.str.df$year=="1992")
size.str.df<-as.data.frame(size.str.table) # как таблица данных
subset(size.str.df,subset=size.str.df$year=="1998")
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
size.str.df<-subset(size.str.df, size.str.df$Freq!="NA")
subset(size.str.df,subset=size.str.df$year=="1998")
size.str.df<-as.data.frame(size.str.table)
for (i in 1:length(levels(size.str.df$year)))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]]<-NA
}
subset(size.str.df,subset=size.str.df$year=="1998")
size.str.df<-as.data.frame(size.str.table)
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[7] & size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[7]]]<-NA
subset(size.str.df,subset=size.str.df$year=="1998")
size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]]
size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[2]]
samples.names$sample[samples.names$year==levels(size.str.df$year)[1]]
for (i in 1:length(levels(size.str.df$year)))
{
for (j=1:length(samples.names$sample))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[i]
& size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[i]
& samples.names$sample==levels(samples.names$sample)[j]]]<-NA
}}
size.str.df<-as.data.frame(size.str.table)
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]
& size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]
& samples.names$sample==levels(samples.names$sample)[1]]]<-NA
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]]
for (j=1:length(samples.names$sample))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]
& size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]
& samples.names$sample==levels(samples.names$sample)[j]]]<-NA
}
for (j in 1:length(samples.names$sample))
{
size.str.df$Freq[size.str.df$year==levels(size.str.df$year)[1]
& size.str.df$sample!=samples.names$sample[samples.names$year==levels(size.str.df$year)[1]
& samples.names$sample==levels(samples.names$sample)[j]]]<-NA
}
subset(size.str.df, size.str.df$year="1992")
subset(size.str.df, size.str.df$year=="1992")
ls()
